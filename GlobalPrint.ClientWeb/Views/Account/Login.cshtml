@using GlobalPrint.ClientWeb
@model LoginViewModel
@{
    ViewBag.Title = "Логин";
    Layout = "~/Views/Shared/_BaseLayout.cshtml";
}

@section Stylesheets {
    <link rel="stylesheet" href="~/Resources/Stylesheets/account/login.css">
}

@section Scripts {
    <script src="~/Resources/Scripts/account/login.js"></script>
}

<div class="container form-signin">

    <div class="main-page">
        <h2 class="form-signin-heading">Вход</h2>
    </div>

    <div class="bs-example bs-example-tabs">
        <ul id="myTab" class="nav nav-tabs">
            <li class="active"><a href="#emaillogin" data-toggle="tab">Через Email</a></li>
            <li class=""><a href="#smslogin" data-toggle="tab">Через SMS</a></li>
        </ul>
    </div>

    <div id="myTabContent" class="tab-content">
        <!-- Через Email -->
        <div class="tab-pane fade active in" id="emaillogin">
            @using (Html.BeginForm("Login", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { role = "form" }))
            {
                @Html.AntiForgeryToken()
                <label for="inputEmail" class="sr-only">Email</label>
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", @id = "inputEmail", @type = "email", @placeholder = "Email", @required = "true", @autofocus = true })
                <label for="inputPassword" class="sr-only">Пароль</label>
                @Html.TextBoxFor(m => m.Password, new { @class = "form-control", @id = "inputPassword", @type = "password", @placeholder = "Пароль", @required = "true" })

                @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
                @Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
                @Html.ValidationMessage("", new { @class = "text-danger" });

                @Html.HiddenFor(m => m.Phone, new { @value = "" })

                <div class="checkbox">
                    <label>
                        @Html.CheckBoxFor(m => m.RememberMe) Запомнить меня
                    </label>
                </div>

                <button class="btn btn-default btn-primary btn-block" type="submit">Войти</button>
            }
        </div>

        <!-- Через SMS -->
        <div class="tab-pane fade" id="smslogin">
            @using (Html.BeginForm("LoginFromPhone", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { role = "form" }))
            {
                @Html.AntiForgeryToken()
                <label for="inputPhone" class="sr-only">Телефон</label>
                @Html.TextBoxFor(m => Model.Phone, new { @class = "form-control", @id = "inputPhone", @type = "phone", @placeholder = "Телефон", @required = "true" })

                @Html.ValidationMessageFor(m => m.Phone, "", new { @class = "text-danger" })
                @Html.ValidationMessage("", new { @class = "text-danger" });

                @Html.HiddenFor(m => m.Email, new { @value = "" })
                @Html.HiddenFor(m => m.Password, new { @value = "" })
                @Html.HiddenFor(m => m.RememberMe)

                <button class="btn btn-default btn-primary btn-block" type="submit">Войти</button>
            }
        </div>

    </div> <!-- /tabpanel -->

    <div class="main-page">
        Нет аккаунта? @Html.ActionLink("Зарегистрируйтесь", "Register", "Account", new { ReturnUrl = ViewBag.ReturnUrl }, new { })
    </div>

    <div class="main-page">
        @Html.ActionLink("www.globalprint.online.ru", "Index", "Home")
    </div>

</div> <!-- /container -->
